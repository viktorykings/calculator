(()=>{"use strict";var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return Number.parseFloat(e.toFixed(t))},t=function(t,r){return e(parseFloat(t)*parseFloat(r))},r=function(e){return parseFloat(e)/100},a=["0","1","2","3","4","5","6","7","8","9","."],o=["+","-","*","/"];const n=function(r){var a=r,o=a.a,n=a.b;switch(a.operator){case"+":a.a=function(t,r){return e(parseFloat(t)+parseFloat(r))}(o,n);break;case"-":a.a=function(t,r){return e(parseFloat(t)-parseFloat(r))}(o,n);break;case"*":a.a=t(o,n);break;case"/":a.a=function(t,r){return Number.isFinite(parseFloat(t)/parseFloat(r))?Number.isInteger(parseFloat(t)/parseFloat(r))?parseFloat(t)/parseFloat(r):e(parseFloat(t)/parseFloat(r)):"Error"}(o,n)}return a.completed=!0,a};var c=document.querySelectorAll(".theme");var u=function(e,t,r){var a=t;r.value=e.a,a.value=e.b?e.b:e.a},i=function(e,t,r){var a=e;return a.a="",a.b="",a.operator="",a.completed=!1,u(a,t,r),a},l=function(e){return a.includes(e.key)||o.includes(e.key)||"="===e.key||"Enter"===e.key||"Delete"===e.key},s=document.querySelector("#numBoard"),d=document.querySelector("#sequence"),p=document.querySelector("#currentVal"),v={a:"",b:"",operator:"",completed:!1,theme:"theme-orange"},b=function(e,c){var l,s=c,v=e.key?e.key:e.target.value;if("%"===v&&s.b&&(p.value=v,"+"!==s.operator&&"-"!==s.operator||(s.b=t(r(s.b),s.a)),"*"!==s.operator&&"/"!==s.operator||(s.b=r(s.b))),"oppositeSign"===v&&(s.b="",s.a&&(s.a=(l=s.a,-1*parseFloat(l))),u(s,p,d)),o.includes(v)||"="===v){if(!s.a)return;if("Error"===s.a)return void i(s,d,p)}if(o.includes(v)){if(s.a&&s.b&&!s.completed){var b=n(s);u(b,p,d),s.b="",s.completed=!1}u(s,p,d),s.operator=v,p.value=v}if(a.includes(v)&&(""===s.b&&""===s.operator?("0"===v&&(s.a="0"),"0"===s.a&&"."!==v&&(s.a=""),s.a+=v):""!==s.a&&""!==s.b&&s.completed?(s.b=v,s.completed=!1):s.b+=v,u(s,p,d)),"="===v||"Enter"===v){""===s.b&&s.operator&&(s.b=s.a);var m=n(s);u(m,p,d),p.value=""}"ac"!==v&&"Delete"!==v||(s=i(s,p,d))};s.addEventListener("click",(function(e){return b(e,v)})),window.addEventListener("keydown",(function(e){!function(e){var t=e.key;"Enter"===e.key&&(t="="),"Delete"===e.key&&(t="ac");var r=document.querySelector('button[value="'.concat(t,'"]'));l(e)&&r.classList.add("active")}(e),b(e,v)})),window.addEventListener("keyup",(function(e){(!e.shiftKey&&l(e)||"+"===e.key)&&document.querySelector(".active").classList.remove("active")})),document.querySelector("#themeSwitch").addEventListener("click",(function(e){v.theme=function(e,t){return"button"===e.target.tagName.toLowerCase()&&c.forEach((function(r){r.classList.remove(t),r.classList.add(e.target.classList[1])})),e.target.classList[1]}(e,v.theme)}))})();